{"ast":null,"code":"'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useReducedMotion, useDidUpdate } from '@mantine/hooks';\nimport 'react/jsx-runtime';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport { useMantineTheme } from '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../core/Box/Box.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nfunction useTransition({\n  duration,\n  exitDuration,\n  timingFunction,\n  mounted,\n  onEnter,\n  onExit,\n  onEntered,\n  onExited,\n  enterDelay,\n  exitDelay\n}) {\n  const theme = useMantineTheme();\n  const shouldReduceMotion = useReducedMotion();\n  const reduceMotion = theme.respectReducedMotion ? shouldReduceMotion : false;\n  const [transitionDuration, setTransitionDuration] = useState(reduceMotion ? 0 : duration);\n  const [transitionStatus, setStatus] = useState(mounted ? \"entered\" : \"exited\");\n  const transitionTimeoutRef = useRef(-1);\n  const delayTimeoutRef = useRef(-1);\n  const rafRef = useRef(-1);\n  const handleStateChange = shouldMount => {\n    const preHandler = shouldMount ? onEnter : onExit;\n    const handler = shouldMount ? onEntered : onExited;\n    window.clearTimeout(transitionTimeoutRef.current);\n    const newTransitionDuration = reduceMotion ? 0 : shouldMount ? duration : exitDuration;\n    setTransitionDuration(newTransitionDuration);\n    if (newTransitionDuration === 0) {\n      typeof preHandler === \"function\" && preHandler();\n      typeof handler === \"function\" && handler();\n      setStatus(shouldMount ? \"entered\" : \"exited\");\n    } else {\n      rafRef.current = requestAnimationFrame(() => {\n        ReactDOM.flushSync(() => {\n          setStatus(shouldMount ? \"pre-entering\" : \"pre-exiting\");\n        });\n        rafRef.current = requestAnimationFrame(() => {\n          typeof preHandler === \"function\" && preHandler();\n          setStatus(shouldMount ? \"entering\" : \"exiting\");\n          transitionTimeoutRef.current = window.setTimeout(() => {\n            typeof handler === \"function\" && handler();\n            setStatus(shouldMount ? \"entered\" : \"exited\");\n          }, newTransitionDuration);\n        });\n      });\n    }\n  };\n  const handleTransitionWithDelay = shouldMount => {\n    window.clearTimeout(delayTimeoutRef.current);\n    const delay = shouldMount ? enterDelay : exitDelay;\n    if (typeof delay !== \"number\") {\n      handleStateChange(shouldMount);\n      return;\n    }\n    delayTimeoutRef.current = window.setTimeout(() => {\n      handleStateChange(shouldMount);\n    }, shouldMount ? enterDelay : exitDelay);\n  };\n  useDidUpdate(() => {\n    handleTransitionWithDelay(mounted);\n  }, [mounted]);\n  useEffect(() => () => {\n    window.clearTimeout(transitionTimeoutRef.current);\n    cancelAnimationFrame(rafRef.current);\n  }, []);\n  return {\n    transitionDuration,\n    transitionStatus,\n    transitionTimingFunction: timingFunction || \"ease\"\n  };\n}\nexport { useTransition };","map":{"version":3,"names":["useTransition","duration","exitDuration","timingFunction","mounted","onEnter","onExit","onEntered","onExited","enterDelay","exitDelay","theme","useMantineTheme","shouldReduceMotion","useReducedMotion","reduceMotion","respectReducedMotion","transitionDuration","setTransitionDuration","useState","transitionStatus","setStatus","transitionTimeoutRef","useRef","delayTimeoutRef","rafRef","handleStateChange","shouldMount","preHandler","handler","window","clearTimeout","current","newTransitionDuration","requestAnimationFrame","ReactDOM","flushSync","setTimeout","handleTransitionWithDelay","delay","useDidUpdate","useEffect","cancelAnimationFrame","transitionTimingFunction"],"sources":["/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/node_modules/@mantine/core/src/components/Transition/use-transition.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useDidUpdate, useReducedMotion } from '@mantine/hooks';\nimport { useMantineTheme } from '../../core';\n\nexport type TransitionStatus =\n  | 'entered'\n  | 'exited'\n  | 'entering'\n  | 'exiting'\n  | 'pre-exiting'\n  | 'pre-entering';\n\ninterface UseTransition {\n  duration: number;\n  exitDuration: number;\n  timingFunction: string;\n  mounted: boolean;\n  onEnter?: () => void;\n  onExit?: () => void;\n  onEntered?: () => void;\n  onExited?: () => void;\n  enterDelay?: number;\n  exitDelay?: number;\n}\n\nexport function useTransition({\n  duration,\n  exitDuration,\n  timingFunction,\n  mounted,\n  onEnter,\n  onExit,\n  onEntered,\n  onExited,\n  enterDelay,\n  exitDelay,\n}: UseTransition) {\n  const theme = useMantineTheme();\n  const shouldReduceMotion = useReducedMotion();\n  const reduceMotion = theme.respectReducedMotion ? shouldReduceMotion : false;\n  const [transitionDuration, setTransitionDuration] = useState(reduceMotion ? 0 : duration);\n  const [transitionStatus, setStatus] = useState<TransitionStatus>(mounted ? 'entered' : 'exited');\n  const transitionTimeoutRef = useRef<number>(-1);\n  const delayTimeoutRef = useRef<number>(-1);\n  const rafRef = useRef(-1);\n\n  const handleStateChange = (shouldMount: boolean) => {\n    const preHandler = shouldMount ? onEnter : onExit;\n    const handler = shouldMount ? onEntered : onExited;\n\n    window.clearTimeout(transitionTimeoutRef.current);\n\n    const newTransitionDuration = reduceMotion ? 0 : shouldMount ? duration : exitDuration;\n    setTransitionDuration(newTransitionDuration);\n\n    if (newTransitionDuration === 0) {\n      typeof preHandler === 'function' && preHandler();\n      typeof handler === 'function' && handler();\n      setStatus(shouldMount ? 'entered' : 'exited');\n    } else {\n      // Make sure new status won't be set within the same frame as this would disrupt animation #3126\n      rafRef.current = requestAnimationFrame(() => {\n        ReactDOM.flushSync(() => {\n          setStatus(shouldMount ? 'pre-entering' : 'pre-exiting');\n        });\n\n        rafRef.current = requestAnimationFrame(() => {\n          typeof preHandler === 'function' && preHandler();\n          setStatus(shouldMount ? 'entering' : 'exiting');\n\n          transitionTimeoutRef.current = window.setTimeout(() => {\n            typeof handler === 'function' && handler();\n            setStatus(shouldMount ? 'entered' : 'exited');\n          }, newTransitionDuration);\n        });\n      });\n    }\n  };\n\n  const handleTransitionWithDelay = (shouldMount: boolean) => {\n    window.clearTimeout(delayTimeoutRef.current);\n    const delay = shouldMount ? enterDelay : exitDelay;\n\n    if (typeof delay !== 'number') {\n      handleStateChange(shouldMount);\n      return;\n    }\n\n    delayTimeoutRef.current = window.setTimeout(\n      () => {\n        handleStateChange(shouldMount);\n      },\n      shouldMount ? enterDelay : exitDelay\n    );\n  };\n\n  useDidUpdate(() => {\n    handleTransitionWithDelay(mounted);\n  }, [mounted]);\n\n  useEffect(\n    () => () => {\n      window.clearTimeout(transitionTimeoutRef.current);\n      cancelAnimationFrame(rafRef.current);\n    },\n    []\n  );\n\n  return {\n    transitionDuration,\n    transitionStatus,\n    transitionTimingFunction: timingFunction || 'ease',\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;AAKO,SAASA,aAAaA,CAAC;EAC5BC,QAAQ;EACRC,YAAY;EACZC,cAAc;EACdC,OAAO;EACPC,OAAO;EACPC,MAAM;EACNC,SAAS;EACTC,QAAQ;EACRC,UAAU;EACVC;AACF,CAAC,EAAE;EACD,MAAMC,KAAK,GAAGC,eAAe,CAAE;EAC/B,MAAMC,kBAAkB,GAAGC,gBAAgB,CAAE;EAC7C,MAAMC,YAAY,GAAGJ,KAAK,CAACK,oBAAoB,GAAGH,kBAAkB,GAAG,KAAK;EAC5E,MAAM,CAACI,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGC,QAAQ,CAACJ,YAAY,GAAG,CAAC,GAAGd,QAAQ,CAAC;EACzF,MAAM,CAACmB,gBAAgB,EAAEC,SAAS,CAAC,GAAGF,QAAQ,CAACf,OAAO,GAAG,SAAS,GAAG,QAAQ,CAAC;EAC9E,MAAMkB,oBAAoB,GAAGC,MAAM,CAAC,CAAC,CAAC,CAAC;EACvC,MAAMC,eAAe,GAAGD,MAAM,CAAC,CAAC,CAAC,CAAC;EAClC,MAAME,MAAM,GAAGF,MAAM,CAAC,CAAC,CAAC,CAAC;EACzB,MAAMG,iBAAiB,GAAIC,WAAW,IAAK;IACzC,MAAMC,UAAU,GAAGD,WAAW,GAAGtB,OAAO,GAAGC,MAAM;IACjD,MAAMuB,OAAO,GAAGF,WAAW,GAAGpB,SAAS,GAAGC,QAAQ;IAClDsB,MAAM,CAACC,YAAY,CAACT,oBAAoB,CAACU,OAAO,CAAC;IACjD,MAAMC,qBAAqB,GAAGlB,YAAY,GAAG,CAAC,GAAGY,WAAW,GAAG1B,QAAQ,GAAGC,YAAY;IACtFgB,qBAAqB,CAACe,qBAAqB,CAAC;IAC5C,IAAIA,qBAAqB,KAAK,CAAC,EAAE;MAC/B,OAAOL,UAAU,KAAK,UAAU,IAAIA,UAAU,CAAE;MAChD,OAAOC,OAAO,KAAK,UAAU,IAAIA,OAAO,CAAE;MAC1CR,SAAS,CAACM,WAAW,GAAG,SAAS,GAAG,QAAQ,CAAC;IACnD,CAAK,MAAM;MACLF,MAAM,CAACO,OAAO,GAAGE,qBAAqB,CAAC,MAAM;QAC3CC,QAAQ,CAACC,SAAS,CAAC,MAAM;UACvBf,SAAS,CAACM,WAAW,GAAG,cAAc,GAAG,aAAa,CAAC;QACjE,CAAS,CAAC;QACFF,MAAM,CAACO,OAAO,GAAGE,qBAAqB,CAAC,MAAM;UAC3C,OAAON,UAAU,KAAK,UAAU,IAAIA,UAAU,CAAE;UAChDP,SAAS,CAACM,WAAW,GAAG,UAAU,GAAG,SAAS,CAAC;UAC/CL,oBAAoB,CAACU,OAAO,GAAGF,MAAM,CAACO,UAAU,CAAC,MAAM;YACrD,OAAOR,OAAO,KAAK,UAAU,IAAIA,OAAO,CAAE;YAC1CR,SAAS,CAACM,WAAW,GAAG,SAAS,GAAG,QAAQ,CAAC;UAC9C,GAAEM,qBAAqB,CAAC;QACnC,CAAS,CAAC;MACV,CAAO,CAAC;IACR;EACG;EACD,MAAMK,yBAAyB,GAAIX,WAAW,IAAK;IACjDG,MAAM,CAACC,YAAY,CAACP,eAAe,CAACQ,OAAO,CAAC;IAC5C,MAAMO,KAAK,GAAGZ,WAAW,GAAGlB,UAAU,GAAGC,SAAS;IAClD,IAAI,OAAO6B,KAAK,KAAK,QAAQ,EAAE;MAC7Bb,iBAAiB,CAACC,WAAW,CAAC;MAC9B;IACN;IACIH,eAAe,CAACQ,OAAO,GAAGF,MAAM,CAACO,UAAU,CACzC,MAAM;MACJX,iBAAiB,CAACC,WAAW,CAAC;IAC/B,GACDA,WAAW,GAAGlB,UAAU,GAAGC,SAC5B;EACF;EACD8B,YAAY,CAAC,MAAM;IACjBF,yBAAyB,CAAClC,OAAO,CAAC;EACtC,CAAG,EAAE,CAACA,OAAO,CAAC,CAAC;EACbqC,SAAS,CACP,MAAM,MAAM;IACVX,MAAM,CAACC,YAAY,CAACT,oBAAoB,CAACU,OAAO,CAAC;IACjDU,oBAAoB,CAACjB,MAAM,CAACO,OAAO,CAAC;EACrC,GACD,EACD;EACD,OAAO;IACLf,kBAAkB;IAClBG,gBAAgB;IAChBuB,wBAAwB,EAAExC,cAAc,IAAI;EAC7C;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}