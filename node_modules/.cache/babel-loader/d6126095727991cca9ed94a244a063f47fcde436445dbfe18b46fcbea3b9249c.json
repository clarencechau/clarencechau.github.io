{"ast":null,"code":"'use client';\n\nimport { cloneElement } from 'react';\nimport cx from 'clsx';\nimport { useMergedRef } from '@mantine/hooks';\nimport { isElement } from '../../../core/utils/is-element/is-element.mjs';\nimport 'react/jsx-runtime';\nimport { getRefProp } from '../../../core/utils/get-ref-prop/get-ref-prop.mjs';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport { factory } from '../../../core/factory/factory.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { usePopoverContext } from '../Popover.context.mjs';\nconst defaultProps = {\n  refProp: \"ref\",\n  popupType: \"dialog\"\n};\nconst PopoverTarget = factory((props, ref) => {\n  const {\n    children,\n    refProp,\n    popupType,\n    ...others\n  } = useProps(\"PopoverTarget\", defaultProps, props);\n  if (!isElement(children)) {\n    throw new Error(\"Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported\");\n  }\n  const forwardedProps = others;\n  const ctx = usePopoverContext();\n  const targetRef = useMergedRef(ctx.reference, getRefProp(children), ref);\n  const accessibleProps = ctx.withRoles ? {\n    \"aria-haspopup\": popupType,\n    \"aria-expanded\": ctx.opened,\n    \"aria-controls\": ctx.getDropdownId(),\n    id: ctx.getTargetId()\n  } : {};\n  return cloneElement(children, {\n    ...forwardedProps,\n    ...accessibleProps,\n    ...ctx.targetProps,\n    className: cx(ctx.targetProps.className, forwardedProps.className, children.props.className),\n    [refProp]: targetRef,\n    ...(!ctx.controlled ? {\n      onClick: ctx.onToggle\n    } : null)\n  });\n});\nPopoverTarget.displayName = \"@mantine/core/PopoverTarget\";\nexport { PopoverTarget };","map":{"version":3,"names":["defaultProps","refProp","popupType","PopoverTarget","factory","props","ref","children","others","useProps","isElement","Error","forwardedProps","ctx","usePopoverContext","targetRef","useMergedRef","reference","getRefProp","accessibleProps","withRoles","opened","getDropdownId","id","getTargetId","cloneElement","targetProps","className","cx","controlled","onClick","onToggle","displayName"],"sources":["/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/node_modules/@mantine/core/src/components/Popover/PopoverTarget/PopoverTarget.tsx"],"sourcesContent":["import { cloneElement } from 'react';\nimport cx from 'clsx';\nimport { useMergedRef } from '@mantine/hooks';\nimport { factory, Factory, getRefProp, isElement, useProps } from '../../../core';\nimport { usePopoverContext } from '../Popover.context';\n\nexport interface PopoverTargetProps {\n  /** Target element */\n  children: React.ReactNode;\n\n  /** Key of the prop that should be used to access element ref */\n  refProp?: string;\n\n  /** Popup accessible type, `'dialog'` by default */\n  popupType?: string;\n}\n\nconst defaultProps: Partial<PopoverTargetProps> = {\n  refProp: 'ref',\n  popupType: 'dialog',\n};\n\nexport type PopoverTargetFactory = Factory<{\n  props: PopoverTargetProps;\n  ref: HTMLElement;\n  compound: true;\n}>;\n\nexport const PopoverTarget = factory<PopoverTargetFactory>((props, ref) => {\n  const { children, refProp, popupType, ...others } = useProps(\n    'PopoverTarget',\n    defaultProps,\n    props\n  );\n\n  if (!isElement(children)) {\n    throw new Error(\n      'Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported'\n    );\n  }\n\n  const forwardedProps: any = others;\n  const ctx = usePopoverContext();\n  const targetRef = useMergedRef(ctx.reference, getRefProp(children), ref);\n\n  const accessibleProps = ctx.withRoles\n    ? {\n        'aria-haspopup': popupType,\n        'aria-expanded': ctx.opened,\n        'aria-controls': ctx.getDropdownId(),\n        id: ctx.getTargetId(),\n      }\n    : {};\n\n  return cloneElement(children, {\n    ...forwardedProps,\n    ...accessibleProps,\n    ...ctx.targetProps,\n    className: cx(ctx.targetProps.className, forwardedProps.className, children.props.className),\n    [refProp!]: targetRef,\n    ...(!ctx.controlled ? { onClick: ctx.onToggle } : null),\n  });\n});\n\nPopoverTarget.displayName = '@mantine/core/PopoverTarget';\n"],"mappings":";;;;;;;;;;;;;;;;;;AAMA,MAAMA,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdC,SAAS,EAAE;AACb,CAAC;AACW,MAACC,aAAa,GAAGC,OAAO,CAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;EACnD,MAAM;IAAEC,QAAQ;IAAEN,OAAO;IAAEC,SAAS;IAAE,GAAGM;EAAQ,IAAGC,QAAQ,CAC1D,eAAe,EACfT,YAAY,EACZK,KACD;EACD,IAAI,CAACK,SAAS,CAACH,QAAQ,CAAC,EAAE;IACxB,MAAM,IAAII,KAAK,CACb,kKACD;EACL;EACE,MAAMC,cAAc,GAAGJ,MAAM;EAC7B,MAAMK,GAAG,GAAGC,iBAAiB,CAAE;EAC/B,MAAMC,SAAS,GAAGC,YAAY,CAACH,GAAG,CAACI,SAAS,EAAEC,UAAU,CAACX,QAAQ,CAAC,EAAED,GAAG,CAAC;EACxE,MAAMa,eAAe,GAAGN,GAAG,CAACO,SAAS,GAAG;IACtC,eAAe,EAAElB,SAAS;IAC1B,eAAe,EAAEW,GAAG,CAACQ,MAAM;IAC3B,eAAe,EAAER,GAAG,CAACS,aAAa,CAAE;IACpCC,EAAE,EAAEV,GAAG,CAACW,WAAW;EACvB,CAAG,GAAG,CAAE;EACN,OAAOC,YAAY,CAAClB,QAAQ,EAAE;IAC5B,GAAGK,cAAc;IACjB,GAAGO,eAAe;IAClB,GAAGN,GAAG,CAACa,WAAW;IAClBC,SAAS,EAAEC,EAAE,CAACf,GAAG,CAACa,WAAW,CAACC,SAAS,EAAEf,cAAc,CAACe,SAAS,EAAEpB,QAAQ,CAACF,KAAK,CAACsB,SAAS,CAAC;IAC5F,CAAC1B,OAAO,GAAGc,SAAS;IACpB,IAAG,CAACF,GAAG,CAACgB,UAAU,GAAG;MAAEC,OAAO,EAAEjB,GAAG,CAACkB;IAAQ,CAAE,GAAG;EACrD,CAAG,CAAC;AACJ,CAAC;AACD5B,aAAa,CAAC6B,WAAW,GAAG,6BAA6B"},"metadata":{},"sourceType":"module","externalDependencies":[]}