{"ast":null,"code":"'use client';\n\nimport { jsx } from 'react/jsx-runtime';\nimport { forwardRef, cloneElement } from 'react';\nimport { isElement } from '../../../core/utils/is-element/is-element.mjs';\nimport { createEventHandler } from '../../../core/utils/create-event-handler/create-event-handler.mjs';\nimport '@mantine/hooks';\nimport 'clsx';\nimport '../../../core/MantineProvider/Mantine.context.mjs';\nimport '../../../core/MantineProvider/default-theme.mjs';\nimport '../../../core/MantineProvider/MantineProvider.mjs';\nimport '../../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport '../../../core/Box/Box.mjs';\nimport '../../../core/DirectionProvider/DirectionProvider.mjs';\nimport { Popover } from '../../Popover/Popover.mjs';\nimport '../../Popover/PopoverDropdown/PopoverDropdown.mjs';\nimport '../../Popover/PopoverTarget/PopoverTarget.mjs';\nimport { useMenuContext } from '../Menu.context.mjs';\nconst defaultProps = {\n  refProp: \"ref\"\n};\nconst MenuTarget = forwardRef((props, ref) => {\n  const {\n    children,\n    refProp,\n    ...others\n  } = useProps(\"MenuTarget\", defaultProps, props);\n  if (!isElement(children)) {\n    throw new Error(\"Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported\");\n  }\n  const ctx = useMenuContext();\n  const onClick = createEventHandler(children.props.onClick, () => {\n    if (ctx.trigger === \"click\") {\n      ctx.toggleDropdown();\n    } else if (ctx.trigger === \"click-hover\") {\n      ctx.setOpenedViaClick(true);\n      if (!ctx.opened) {\n        ctx.openDropdown();\n      }\n    }\n  });\n  const onMouseEnter = createEventHandler(children.props.onMouseEnter, () => (ctx.trigger === \"hover\" || ctx.trigger === \"click-hover\") && ctx.openDropdown());\n  const onMouseLeave = createEventHandler(children.props.onMouseLeave, () => {\n    if (ctx.trigger === \"hover\") {\n      ctx.closeDropdown();\n    } else if (ctx.trigger === \"click-hover\" && !ctx.openedViaClick) {\n      ctx.closeDropdown();\n    }\n  });\n  return /* @__PURE__ */jsx(Popover.Target, {\n    refProp,\n    popupType: \"menu\",\n    ref,\n    ...others,\n    children: cloneElement(children, {\n      onClick,\n      onMouseEnter,\n      onMouseLeave,\n      \"data-expanded\": ctx.opened ? true : void 0\n    })\n  });\n});\nMenuTarget.displayName = \"@mantine/core/MenuTarget\";\nexport { MenuTarget };","map":{"version":3,"names":["defaultProps","refProp","MenuTarget","forwardRef","props","ref","children","others","useProps","isElement","Error","ctx","useMenuContext","onClick","createEventHandler","trigger","toggleDropdown","setOpenedViaClick","opened","openDropdown","onMouseEnter","onMouseLeave","closeDropdown","openedViaClick","jsx","Popover","Target","popupType","cloneElement","displayName"],"sources":["/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/node_modules/@mantine/core/src/components/Menu/MenuTarget/MenuTarget.tsx"],"sourcesContent":["import { cloneElement, forwardRef } from 'react';\nimport { createEventHandler, isElement, useProps } from '../../../core';\nimport { Popover } from '../../Popover';\nimport { useMenuContext } from '../Menu.context';\n\nexport interface MenuTargetProps {\n  /** Target element */\n  children: React.ReactNode;\n\n  /** Key of the prop that should be used to get element ref */\n  refProp?: string;\n}\n\nconst defaultProps: Partial<MenuTargetProps> = {\n  refProp: 'ref',\n};\n\nexport const MenuTarget = forwardRef<HTMLElement, MenuTargetProps>((props, ref) => {\n  const { children, refProp, ...others } = useProps('MenuTarget', defaultProps, props);\n\n  if (!isElement(children)) {\n    throw new Error(\n      'Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported'\n    );\n  }\n\n  const ctx = useMenuContext();\n\n  const onClick = createEventHandler(children.props.onClick, () => {\n    if (ctx.trigger === 'click') {\n      ctx.toggleDropdown();\n    } else if (ctx.trigger === 'click-hover') {\n      ctx.setOpenedViaClick(true);\n      if (!ctx.opened) {\n        ctx.openDropdown();\n      }\n    }\n  });\n\n  const onMouseEnter = createEventHandler(\n    children.props.onMouseEnter,\n    () => (ctx.trigger === 'hover' || ctx.trigger === 'click-hover') && ctx.openDropdown()\n  );\n\n  const onMouseLeave = createEventHandler(children.props.onMouseLeave, () => {\n    if (ctx.trigger === 'hover') {\n      ctx.closeDropdown();\n    } else if (ctx.trigger === 'click-hover' && !ctx.openedViaClick) {\n      ctx.closeDropdown();\n    }\n  });\n\n  return (\n    <Popover.Target refProp={refProp} popupType=\"menu\" ref={ref} {...others}>\n      {cloneElement(children, {\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        'data-expanded': ctx.opened ? true : undefined,\n      })}\n    </Popover.Target>\n  );\n});\n\nMenuTarget.displayName = '@mantine/core/MenuTarget';\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAMA,MAAMA,YAAY,GAAG;EACnBC,OAAO,EAAE;AACX,CAAC;AACW,MAACC,UAAU,GAAGC,UAAU,CAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;EACnD,MAAM;IAAEC,QAAQ;IAAEL,OAAO;IAAE,GAAGM;EAAQ,IAAGC,QAAQ,CAAC,YAAY,EAAER,YAAY,EAAEI,KAAK,CAAC;EACpF,IAAI,CAACK,SAAS,CAACH,QAAQ,CAAC,EAAE;IACxB,MAAM,IAAII,KAAK,CACb,+JACD;EACL;EACE,MAAMC,GAAG,GAAGC,cAAc,CAAE;EAC5B,MAAMC,OAAO,GAAGC,kBAAkB,CAACR,QAAQ,CAACF,KAAK,CAACS,OAAO,EAAE,MAAM;IAC/D,IAAIF,GAAG,CAACI,OAAO,KAAK,OAAO,EAAE;MAC3BJ,GAAG,CAACK,cAAc,CAAE;IAC1B,CAAK,MAAM,IAAIL,GAAG,CAACI,OAAO,KAAK,aAAa,EAAE;MACxCJ,GAAG,CAACM,iBAAiB,CAAC,IAAI,CAAC;MAC3B,IAAI,CAACN,GAAG,CAACO,MAAM,EAAE;QACfP,GAAG,CAACQ,YAAY,CAAE;MAC1B;IACA;EACA,CAAG,CAAC;EACF,MAAMC,YAAY,GAAGN,kBAAkB,CACrCR,QAAQ,CAACF,KAAK,CAACgB,YAAY,EAC3B,MAAM,CAACT,GAAG,CAACI,OAAO,KAAK,OAAO,IAAIJ,GAAG,CAACI,OAAO,KAAK,aAAa,KAAKJ,GAAG,CAACQ,YAAY,EACrF;EACD,MAAME,YAAY,GAAGP,kBAAkB,CAACR,QAAQ,CAACF,KAAK,CAACiB,YAAY,EAAE,MAAM;IACzE,IAAIV,GAAG,CAACI,OAAO,KAAK,OAAO,EAAE;MAC3BJ,GAAG,CAACW,aAAa,CAAE;IACzB,CAAK,MAAM,IAAIX,GAAG,CAACI,OAAO,KAAK,aAAa,IAAI,CAACJ,GAAG,CAACY,cAAc,EAAE;MAC/DZ,GAAG,CAACW,aAAa,CAAE;IACzB;EACA,CAAG,CAAC;EACF,sBAAuBE,GAAG,CAACC,OAAO,CAACC,MAAM,EAAE;IAAEzB,OAAO;IAAE0B,SAAS,EAAE,MAAM;IAAEtB,GAAG;IAAE,GAAGE,MAAM;IAAED,QAAQ,EAAEsB,YAAY,CAACtB,QAAQ,EAAE;MACxHO,OAAO;MACPO,YAAY;MACZC,YAAY;MACZ,eAAe,EAAEV,GAAG,CAACO,MAAM,GAAG,IAAI,GAAG,KAAK;IAC3C;EAAC,CAAE,CAAC;AACP,CAAC;AACDhB,UAAU,CAAC2B,WAAW,GAAG,0BAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}