{"ast":null,"code":"import _regeneratorRuntime from\"/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var VideoViews=function VideoViews(_ref){var videoId=_ref.videoId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),views=_useState2[0],setViews=_useState2[1];var apiKey=process.env.REACT_APP_YOUTUBE_API_KEY;useEffect(function(){var fetchViews=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _data$items$,_data$items$$statisti;var response,data,viewCount;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://www.googleapis.com/youtube/v3/videos?part=statistics&id=\".concat(videoId,\"&key=\").concat(apiKey));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;viewCount=(_data$items$=data.items[0])===null||_data$items$===void 0?void 0:(_data$items$$statisti=_data$items$.statistics)===null||_data$items$$statisti===void 0?void 0:_data$items$$statisti.viewCount;setViews(viewCount);case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchViews(){return _ref2.apply(this,arguments);};}();fetchViews();},[videoId]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:views?views+\" views\":\"Loading...\"})});};export default VideoViews;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","VideoViews","_ref","videoId","_useState","_useState2","_slicedToArray","views","setViews","apiKey","process","env","REACT_APP_YOUTUBE_API_KEY","fetchViews","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_data$items$","_data$items$$statisti","response","data","viewCount","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","items","statistics","stop","apply","arguments","children"],"sources":["/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/src/api/VideoViews.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst VideoViews = ({ videoId }) => {\n  const [views, setViews] = useState(null);\n  \n  const apiKey = process.env.REACT_APP_YOUTUBE_API_KEY;\n\n  useEffect(() => {\n    const fetchViews = async () => {\n      const response = await fetch(\n        `https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${videoId}&key=${apiKey}`\n      );\n      const data = await response.json();\n      const viewCount = data.items[0]?.statistics?.viewCount;\n      setViews(viewCount);\n    };\n\n    fetchViews();\n  }, [videoId]);\n\n  return (\n    <div>\n      <p>{views ? views + \" views\": \"Loading...\"}</p>\n    </div>\n  );\n};\n\nexport default VideoViews;"],"mappings":"4fAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAAC,IAAA,CAAoB,IAAd,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAC3B,IAAAC,SAAA,CAA0BN,QAAQ,CAAC,IAAI,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,yBAAyB,CAEpDf,SAAS,CAAC,UAAM,CACd,GAAM,CAAAgB,UAAU,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,YAAA,CAAAC,qBAAA,KAAAC,QAAA,CAAAC,IAAA,CAAAC,SAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACM,CAAAC,KAAK,oEAAAC,MAAA,CACyC3B,OAAO,UAAA2B,MAAA,CAAQrB,MAAM,CAC1F,CAAC,QAFKY,QAAQ,CAAAK,QAAA,CAAAK,IAAA,CAAAL,QAAA,CAAAE,IAAA,SAGK,CAAAP,QAAQ,CAACW,IAAI,CAAC,CAAC,QAA5BV,IAAI,CAAAI,QAAA,CAAAK,IAAA,CACJR,SAAS,EAAAJ,YAAA,CAAGG,IAAI,CAACW,KAAK,CAAC,CAAC,CAAC,UAAAd,YAAA,kBAAAC,qBAAA,CAAbD,YAAA,CAAee,UAAU,UAAAd,qBAAA,iBAAzBA,qBAAA,CAA2BG,SAAS,CACtDf,QAAQ,CAACe,SAAS,CAAC,CAAC,wBAAAG,QAAA,CAAAS,IAAA,MAAAjB,OAAA,GACrB,kBAPK,CAAAL,UAAUA,CAAA,SAAAC,KAAA,CAAAsB,KAAA,MAAAC,SAAA,OAOf,CAEDxB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACV,OAAO,CAAC,CAAC,CAEb,mBACEH,IAAA,QAAAsC,QAAA,cACEtC,IAAA,MAAAsC,QAAA,CAAI/B,KAAK,CAAGA,KAAK,CAAG,QAAQ,CAAE,YAAY,CAAI,CAAC,CAC5C,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}