{"ast":null,"code":"'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nfunction useStateHistory(initialValue) {\n  const [state, setState] = useState({\n    history: [initialValue],\n    current: 0\n  });\n  const set = useCallback(val => setState(currentState => {\n    const nextState = [...currentState.history.slice(0, currentState.current + 1), val];\n    return {\n      history: nextState,\n      current: nextState.length - 1\n    };\n  }), []);\n  const back = useCallback((steps = 1) => setState(currentState => ({\n    history: currentState.history,\n    current: Math.max(0, currentState.current - steps)\n  })), []);\n  const forward = useCallback((steps = 1) => setState(currentState => ({\n    history: currentState.history,\n    current: Math.min(currentState.history.length - 1, currentState.current + steps)\n  })), []);\n  const reset = useCallback(() => {\n    setState({\n      history: [initialValue],\n      current: 0\n    });\n  }, [initialValue]);\n  const handlers = useMemo(() => ({\n    back,\n    forward,\n    reset,\n    set\n  }), [back, forward, reset, set]);\n  return [state.history[state.current], handlers, state];\n}\nexport { useStateHistory };","map":{"version":3,"names":["useStateHistory","initialValue","state","setState","useState","history","current","set","useCallback","val","currentState","nextState","slice","length","back","steps","Math","max","forward","min","reset","handlers","useMemo"],"sources":["/Users/clarencechau/Documents/projects/personal-website/clarencechau.github.io/node_modules/@mantine/hooks/src/use-state-history/use-state-history.ts"],"sourcesContent":["import { useCallback, useMemo, useState } from 'react';\n\nexport interface UseStateHistoryHandlers<T> {\n  set: (value: T) => void;\n  back: (steps?: number) => void;\n  forward: (steps?: number) => void;\n  reset: () => void;\n}\n\nexport interface StateHistory<T> {\n  history: T[];\n  current: number;\n}\n\nexport function useStateHistory<T>(\n  initialValue: T\n): [T, UseStateHistoryHandlers<T>, StateHistory<T>] {\n  const [state, setState] = useState<StateHistory<T>>({\n    history: [initialValue],\n    current: 0,\n  });\n\n  const set = useCallback(\n    (val: T) =>\n      setState((currentState) => {\n        const nextState = [...currentState.history.slice(0, currentState.current + 1), val];\n        return {\n          history: nextState,\n          current: nextState.length - 1,\n        };\n      }),\n    []\n  );\n\n  const back = useCallback(\n    (steps = 1) =>\n      setState((currentState) => ({\n        history: currentState.history,\n        current: Math.max(0, currentState.current - steps),\n      })),\n    []\n  );\n\n  const forward = useCallback(\n    (steps = 1) =>\n      setState((currentState) => ({\n        history: currentState.history,\n        current: Math.min(currentState.history.length - 1, currentState.current + steps),\n      })),\n    []\n  );\n\n  const reset = useCallback(() => {\n    setState({ history: [initialValue], current: 0 });\n  }, [initialValue]);\n\n  const handlers = useMemo(() => ({ back, forward, reset, set }), [back, forward, reset, set]);\n\n  return [state.history[state.current], handlers, state];\n}\n"],"mappings":";;;AAEO,SAASA,eAAeA,CAACC,YAAY,EAAE;EAC5C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGC,QAAQ,CAAC;IACjCC,OAAO,EAAE,CAACJ,YAAY,CAAC;IACvBK,OAAO,EAAE;EACb,CAAG,CAAC;EACF,MAAMC,GAAG,GAAGC,WAAW,CACpBC,GAAG,IAAKN,QAAQ,CAAEO,YAAY,IAAK;IAClC,MAAMC,SAAS,GAAG,CAAC,GAAGD,YAAY,CAACL,OAAO,CAACO,KAAK,CAAC,CAAC,EAAEF,YAAY,CAACJ,OAAO,GAAG,CAAC,CAAC,EAAEG,GAAG,CAAC;IACnF,OAAO;MACLJ,OAAO,EAAEM,SAAS;MAClBL,OAAO,EAAEK,SAAS,CAACE,MAAM,GAAG;IAC7B;EACP,CAAK,CAAC,EACF,EACD;EACD,MAAMC,IAAI,GAAGN,WAAW,CACtB,CAACO,KAAK,GAAG,CAAC,KAAKZ,QAAQ,CAAEO,YAAY,KAAM;IACzCL,OAAO,EAAEK,YAAY,CAACL,OAAO;IAC7BC,OAAO,EAAEU,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEP,YAAY,CAACJ,OAAO,GAAGS,KAAK;EACvD,CAAK,CAAC,CAAC,EACH,EACD;EACD,MAAMG,OAAO,GAAGV,WAAW,CACzB,CAACO,KAAK,GAAG,CAAC,KAAKZ,QAAQ,CAAEO,YAAY,KAAM;IACzCL,OAAO,EAAEK,YAAY,CAACL,OAAO;IAC7BC,OAAO,EAAEU,IAAI,CAACG,GAAG,CAACT,YAAY,CAACL,OAAO,CAACQ,MAAM,GAAG,CAAC,EAAEH,YAAY,CAACJ,OAAO,GAAGS,KAAK;EACrF,CAAK,CAAC,CAAC,EACH,EACD;EACD,MAAMK,KAAK,GAAGZ,WAAW,CAAC,MAAM;IAC9BL,QAAQ,CAAC;MAAEE,OAAO,EAAE,CAACJ,YAAY,CAAC;MAAEK,OAAO,EAAE;IAAC,CAAE,CAAC;EACrD,CAAG,EAAE,CAACL,YAAY,CAAC,CAAC;EAClB,MAAMoB,QAAQ,GAAGC,OAAO,CAAC,OAAO;IAAER,IAAI;IAAEI,OAAO;IAAEE,KAAK;IAAEb;EAAK,EAAC,EAAE,CAACO,IAAI,EAAEI,OAAO,EAAEE,KAAK,EAAEb,GAAG,CAAC,CAAC;EAC5F,OAAO,CAACL,KAAK,CAACG,OAAO,CAACH,KAAK,CAACI,OAAO,CAAC,EAAEe,QAAQ,EAAEnB,KAAK,CAAC;AACxD"},"metadata":{},"sourceType":"module","externalDependencies":[]}